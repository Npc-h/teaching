<!DOCTYPE html>
<html class="x-admin-sm">

<head>
    <meta charset="UTF-8">
    <title>用户信息查看</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="stylesheet" href="./css/font.css">
    <link rel="stylesheet" href="./css/xadmin.css">
    <script src="./lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/xadmin.js"></script>
</head>
<body>

<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <form class="layui-form" >
                <fieldset class="layui-elem-field layui-field-title" style="margin-left: 3%;">
                    <legend>用户信息查看</legend>
                </fieldset>

                <div class="layui-form-item">
                    <label class="layui-form-label">
                        用户名称
                    </label>
                    <div class="layui-input-block lafite_width_30">
                        <input type="text" name="userName" id="userName" required  lay-verify="required" placeholder=" "disabled="disabled" class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">
                        年龄
                    </label>
                    <div class="layui-input-block lafite_width_30">
                        <input type="text" name="userAge" id="userAge" required  lay-verify="required" placeholder=" " class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">
                        健康得分
                    </label>
                    <div class="layui-input-block lafite_width_30">
                        <input type="text" name="userGrade" id="userGrade" required  lay-verify="required" placeholder=" " class="layui-input">
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">
                        <span>*</span>
                        性别
                    </label>
                    <div class="layui-input-block lafite_width_30">
                        <input type="radio" name="sex" id="sexs" value="1" title="男">
                        <input type="radio" name="sex" id="sex" value="2" title="女" checked>
                    </div>
                </div>


                <div class="layui-form-item layui-form-text">
                    <label class="layui-form-label">
                        <span>*</span>
                        体质情况描叙
                    </label>
                    <div class="layui-input-block lafite_width_60">
                        <textarea name="bodyDesc" id="bodyDesc" placeholder="请输入内容" required  lay-verify="required" class="layui-textarea lafite_textarea"></textarea>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>
</body>
<script>layui.use(['laydate', 'form', 'upload'],
    function() {
        var $ = layui.$;


        document.getElementById("userName").value=localStorage.getItem("username");

        $.ajax({
            url: 'http://localhost:8080/selectHealthUser',
            method: 'post',
            data:  {"userId": localStorage.getItem("userid")},
            dataType: 'JSON',
            success: function (res) {
                var userInfo = JSON.stringify(res);
                userInfo = eval("("+userInfo+")");
                document.getElementById("userAge").value=userInfo.tiAge;
                document.getElementById("userGrade").value=userInfo.tiGrade;
                document.getElementById("bodyDesc").value=userInfo.tiPhysicalSituation;

                if(userInfo.tiSex==1){
                    $("#sex").removeAttr("checked");
                    $("#sexs").attr("checked","checked");
                }
            },
            error: function (data) {
                layer.msg("网络错误");
            }
        });


    });


</script>

</html>